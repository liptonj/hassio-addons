# Meraki WPN Portal - Environment Variables
# Copy this file to .env and fill in your values

# Run Mode: "standalone" or "homeassistant"
# - standalone: Direct integration with Meraki Dashboard API
# - homeassistant: Uses meraki_ha integration via Home Assistant
RUN_MODE=standalone

# Meraki Dashboard API Key (for standalone mode)
# Get this from: Meraki Dashboard > Organization > Settings > API access
MERAKI_API_KEY=your-meraki-api-key-here

# Home Assistant Connection (for homeassistant mode)
HA_URL=http://homeassistant.local:8123
HA_TOKEN=your-long-lived-access-token-here
SUPERVISOR_TOKEN=

# Branding
PROPERTY_NAME=My Property
LOGO_URL=
PRIMARY_COLOR=#00A4E4

# Default Network Settings
DEFAULT_NETWORK_ID=L_123456789012345678
DEFAULT_SSID_NUMBER=0
DEFAULT_GROUP_POLICY_ID=

# Authentication Methods
AUTH_SELF_REGISTRATION=true
AUTH_INVITE_CODES=true
AUTH_EMAIL_VERIFICATION=false
AUTH_SMS_VERIFICATION=false

# Registration Options
REQUIRE_UNIT_NUMBER=true
UNIT_SOURCE=ha_areas
MANUAL_UNITS=[]

# IPSK Settings
DEFAULT_IPSK_DURATION_HOURS=0
PASSPHRASE_LENGTH=12

# Admin Settings
ADMIN_NOTIFICATION_EMAIL=
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin
# Optional: Pre-hash the password for production (use the /api/admin/change-password endpoint)
ADMIN_PASSWORD_HASH=

# OAuth/SSO Settings
ENABLE_OAUTH=false
OAUTH_PROVIDER=none
OAUTH_ADMIN_ONLY=false

# Duo Universal Prompt (SDK v4 / OIDC)
DUO_CLIENT_ID=
DUO_CLIENT_SECRET=
DUO_API_HOSTNAME=

# Microsoft Entra ID (Azure AD)
ENTRA_CLIENT_ID=
ENTRA_CLIENT_SECRET=
ENTRA_TENANT_ID=

# OAuth Callback URL
OAUTH_CALLBACK_URL=http://localhost:8080/api/auth/callback

# Database
# Local MariaDB (HA Add-on) - Use this for production:
DATABASE_URL=mysql+pymysql://wpn-user:C1sco5150!@core-mariadb:3306/wpn_radius
#
# Remote via ngrok (for external testing only):
# DATABASE_URL=mysql+pymysql://wpn-user:C1sco5150!@5.tcp.ngrok.io:21829/wpn_radius
#
# SQLite (development only):
# DATABASE_URL=sqlite:///./meraki_wpn_portal.db

# Security (change in production!)
SECRET_KEY=change-this-in-production-use-strong-random-key

# Settings Encryption Key (for encrypting secrets in settings file)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Keep this key secret and consistent across restarts!
SETTINGS_ENCRYPTION_KEY=
